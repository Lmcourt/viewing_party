<%= render partial: 'shared/movie_search' %>


<div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    <% @movies.each_slice(5).each_with_index do |movie_group, i| %>
      <% if i == 0 %>
      <div class="carousel-item active">
        <div class='grid' style='--bs-columns: 5;'>
          <div class='row'>
            <% movie_group.each do |movie| %>
            <div class='col-2' content-align-center>
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title"><%= link_to movie.title, details_path(params: { movie_id: movie.id }) %></h5>
                  <p class="card-text">Vote Average: <%= movie.vote_average %></p>
                </div>
              </div>
            </div>
            <% end %>
          </div>
        </div>
      </div>
      <% else %>
      <div class="carousel-item">
        <div class='grid' style='--bs-columns: 5;'>
          <div class='row'>
            <% movie_group.each do |movie| %>
              <div class='col-2' content-align-center>
                <div class="card">
                  <div class="card-body">
                    <h5 class="card-title"><%= link_to movie.title, details_path(params: { movie_id: movie.id }) %></h5>
                    <p class="card-text">Vote Average: <%= movie.vote_average %></p>
                  </div>
                </div>
              </div>
            <% end %>
          </div>
        </div>
      </div>
      <% end %>
    <% end %>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>
